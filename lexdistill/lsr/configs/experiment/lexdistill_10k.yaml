# @package _global_
defaults:
  - override /dataset@train_dataset: msmarco_triplet_distil 
  - override /loss: distil_margin_mse
  - override /model: splade_asm
exp_name: lexdistill_splade
loss:
  q_regularizer:
    weight: 0.1
    T: 50000
  d_regularizer:
    weight: 0.08
    T: 50000
dataset:
  data_path: /path/to/data
  num_samples: 10000
trainer:
  callbacks:
    -early_stopping:
      _target_: lexdistill.lsr.callbacks.EarlyStopping
      val_topics: /path/to/topics
      ir_dataset: msmarco-passage/trec-dl-2019/judged
      index: msmarco_passage
      patience: 30
      val_model:
        _target_: lexdistill.lsr.transformer.LSR
        model: ${model}
        tokenizer: ${tokenizer}